# è¦‹é–‹ããƒšãƒ¼ã‚¸æ¼«ç”»ã‚’ç¸¦èª­ã¿ã«å¤‰æ›ã™ã‚‹ãƒ„ãƒ¼ãƒ«

ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€è¦‹é–‹ããƒšãƒ¼ã‚¸ã®æ¼«ç”»ã‚’ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å½¢å¼ã«è‡ªå‹•å¤‰æ›ã—ã¾ã™ã€‚ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ç”¨ã„ã¦ã‚³ãƒã¨ã‚³ãƒé †åºã‚’æ¤œå‡ºã—ã€å¹ãå‡ºã—ã®é‡ãªã‚Šã‚’è€ƒæ…®ã—ãªãŒã‚‰ç¸¦èª­ã¿ç”¨ã«å†é…ç½®ã—ã¾ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

- **ã‚³ãƒæ¤œå‡º**: Mask R-CNNã¾ãŸã¯Mask2Formerã‚’ä½¿ç”¨ã—ãŸé«˜ç²¾åº¦ãªã‚³ãƒé ˜åŸŸã®æ¤œå‡º
- **ã‚³ãƒé †åºæ¨å®š**: è¦‹é–‹ããƒšãƒ¼ã‚¸ã®èª­ã¿é †ã‚’è‡ªå‹•ã§åˆ¤å®š
- **å¹ãå‡ºã—æ¤œå‡º**: U-Netãƒ™ãƒ¼ã‚¹ã®å¹ãå‡ºã—é ˜åŸŸã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚¤ãƒ³ãƒšã‚¤ãƒ³ãƒ†ã‚£ãƒ³ã‚°**: LAMAãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹èƒŒæ™¯è£œå®Œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- **è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å½¢å¼ã¸ã®æœ€é©ãªé…ç½®

## å¿…è¦ãªç’°å¢ƒ

- Python 3.8ä»¥ä¸Š
- PyTorch
- CUDAå¯¾å¿œGPUï¼ˆæ¨å¥¨ï¼‰

### ä¸»è¦ãªä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

```bash
pip install torch torchvision
pip install transformers
pip install opencv-python
pip install pillow
pip install numpy
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³: LAMAã‚¤ãƒ³ãƒšã‚¤ãƒ³ãƒ†ã‚£ãƒ³ã‚°

```bash
pip install simple-lama-inpainting
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
.
â”œâ”€â”€ main.py                      # ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ predict.py                   # äºˆæ¸¬ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ panel_order_estimator.py     # ã‚³ãƒé †åºæ¨å®šãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ balloon_editor.py            # å¹ãå‡ºã—ç·¨é›†ãƒ„ãƒ¼ãƒ«
â”œâ”€â”€ lama_inpaint.py             # LAMAã‚¤ãƒ³ãƒšã‚¤ãƒ³ãƒ†ã‚£ãƒ³ã‚°
â”œâ”€â”€ models/                      # ãƒ¢ãƒ‡ãƒ«å®šç¾©
â”‚   â”œâ”€â”€ mask2former.py
â”‚   â”œâ”€â”€ mask2former_gray.py
â”‚   â”œâ”€â”€ maskrcnn.py
â”‚   â”œâ”€â”€ maskrcnn_gray.py
â”‚   â””â”€â”€ unet*.py
â””â”€â”€ instance_models/             # å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«
    â”œâ”€â”€ mask2former_gray_best.pt
    â””â”€â”€ ...
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# å˜ä¸€ç”»åƒã®å¤‰æ›
python main.py --input image.jpg --output ./output/

# ãƒ•ã‚©ãƒ«ãƒ€å†…ã®å…¨ç”»åƒã‚’å¤‰æ›
python main.py --input ./manga_pages/ --output ./output/
```

### ä¸»è¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³

#### ãƒ¢ãƒ‡ãƒ«è¨­å®š

```bash
# ã‚³ãƒæ¤œå‡ºãƒ¢ãƒ‡ãƒ«ã®æŒ‡å®š
python main.py --input image.jpg --output ./output/ \
  --panel-model ./instance_models/mask2former_gray_best.pt \
  --panel-model-type mask2former

# ãƒ¢ãƒ‡ãƒ«ã‚¿ã‚¤ãƒ—: maskrcnn ã¾ãŸã¯ mask2former
# å…¥åŠ›ã‚¿ã‚¤ãƒ—: 3chï¼ˆã‚«ãƒ©ãƒ¼ï¼‰ã¾ãŸã¯ grayï¼ˆã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰
python main.py --input image.jpg --output ./output/ \
  --input-type gray
```

#### æ¤œå‡ºãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

```bash
# ã‚¹ã‚³ã‚¢é–¾å€¤ã®èª¿æ•´ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.5ï¼‰
python main.py --input image.jpg --output ./output/ \
  --score-threshold 0.6

# ã‚³ãƒé–“ã®ä½™ç™½æ¯”ç‡ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.3ï¼‰
python main.py --input image.jpg --output ./output/ \
  --panel-margin-ratio 0.4

# å°ã•ã„ã‚³ãƒã®æœ€å°å¹…æ¯”ç‡ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.8ï¼‰
python main.py --input image.jpg --output ./output/ \
  --min-width-ratio 0.7
```

#### ç”»åƒå‡¦ç†ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
# ãƒã‚¹ã‚¯ã®ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°ã‚’æœ‰åŠ¹åŒ–
python main.py --input image.jpg --output ./output/ \
  --smooth-mask --smooth-kernel-size 5

# å¹ãå‡ºã—ãƒã‚¹ã‚¯ã®è†¨å¼µï¼ˆåˆ‡ã‚Œé˜²æ­¢ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 2ï¼‰
python main.py --input image.jpg --output ./output/ \
  --balloon-dilate 3

# LAMAã‚¤ãƒ³ãƒšã‚¤ãƒ³ãƒ†ã‚£ãƒ³ã‚°ã®ç„¡åŠ¹åŒ–
python main.py --input image.jpg --output ./output/ \
  --no-inpaint
```

#### å¹ãå‡ºã—æ¤œå‡ºãƒ¢ãƒ‡ãƒ«

```bash
# å¹ãå‡ºã—æ¤œå‡ºãƒ¢ãƒ‡ãƒ«ã®æŒ‡å®š
python main.py --input image.jpg --output ./output/ \
  --balloon-model ./balloon_models/model.pt \
  --balloon-img-size 384 512
```

### å®Œå…¨ãªã‚³ãƒãƒ³ãƒ‰ä¾‹

```bash
python main.py \
  --input ./test_images/ \
  --output ./output/ \
  --panel-model ./instance_models/mask2former_gray_best.pt \
  --panel-model-type mask2former \
  --input-type gray \
  --score-threshold 0.5 \
  --panel-margin-ratio 0.3 \
  --smooth-mask \
  --balloon-dilate 2
```

## å‡ºåŠ›

å¤‰æ›ãŒå®Œäº†ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ï¼š

```
output/
â”œâ”€â”€ conversion_summary.json      # å…¨ä½“ã®ã‚µãƒãƒªãƒ¼
â””â”€â”€ [ç”»åƒå]/
    â”œâ”€â”€ vertical_manga.jpg       # ç¸¦èª­ã¿å¤‰æ›å¾Œã®ç”»åƒ
    â”œâ”€â”€ panels_overlay.jpg       # ã‚³ãƒæ¤œå‡ºçµæœã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤
    â”œâ”€â”€ metadata.json            # å¤‰æ›ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
    â””â”€â”€ panels/                  # å€‹åˆ¥ã‚³ãƒç”»åƒï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
        â”œâ”€â”€ panel_001.jpg
        â”œâ”€â”€ panel_002.jpg
        â””â”€â”€ ...
```

### metadata.json ã®å†…å®¹

```json
{
  "input_image": "ç”»åƒãƒ‘ã‚¹",
  "output_dir": "å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª",
  "num_panels": "æ¤œå‡ºã•ã‚ŒãŸã‚³ãƒæ•°",
  "panel_order": "ã‚³ãƒã®é †åºæƒ…å ±",
  "processing_time": "å‡¦ç†æ™‚é–“ï¼ˆç§’ï¼‰"
}
```

## ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«

### å¹ãå‡ºã—é…ç½®ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆStreamlit UIï¼‰

ç¸¦èª­ã¿å¤‰æ›å¾Œã®ç”»åƒã«å¯¾ã—ã¦ã€å¹ãå‡ºã—ã‚’æ‰‹å‹•ã§é…ç½®ã§ãã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªUIã§ã™ã€‚

#### å¿…è¦ãªè¿½åŠ ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

```bash
pip install streamlit
pip install streamlit-image-coordinates
```

#### èµ·å‹•æ–¹æ³•

```bash
streamlit run balloon_editor.py
```

ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•çš„ã«é–‹ãã€UIãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆé€šå¸¸ã¯ http://localhost:8501ï¼‰ã€‚

#### ä½¿ã„æ–¹

1. **ãƒ•ã‚©ãƒ«ãƒ€é¸æŠ**
   - ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§ã€Œå‡ºåŠ›ãƒ™ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã‚’æŒ‡å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `./output_m2f`ï¼‰
   - ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‹ã‚‰å‡¦ç†æ¸ˆã¿ã®ç”»åƒãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ

2. **å¹ãå‡ºã—ã®é¸æŠ**
   - ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹å¹ãå‡ºã—ã®ã‚µãƒ ãƒã‚¤ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã‚µã‚¤ã‚ºã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§å¹ãå‡ºã—ã®å¤§ãã•ã‚’èª¿æ•´ï¼ˆ0.5ã€œ2.0å€ï¼‰

3. **å¹ãå‡ºã—ã®é…ç½®**
   - ãƒ¡ã‚¤ãƒ³ç”»åƒï¼ˆç¸¦ä¸¦ã³ç”»åƒï¼‰ã®ä»»æ„ã®ä½ç½®ã‚’ã‚¯ãƒªãƒƒã‚¯
   - é¸æŠä¸­ã®å¹ãå‡ºã—ãŒé…ç½®ã•ã‚Œã¾ã™
   - é…ç½®æ¸ˆã¿ãƒªã‚¹ãƒˆã‹ã‚‰å‰Šé™¤ã‚‚å¯èƒ½

4. **ä¿å­˜**
   - ã€ŒğŸ’¾ ç”»åƒã‚’ä¿å­˜ã€: å¹ãå‡ºã—ã‚’åˆæˆã—ãŸæœ€çµ‚ç”»åƒã‚’ä¿å­˜ï¼ˆ`vertical_with_balloons.png`ï¼‰
   - ã€ŒğŸ“„ é…ç½®æƒ…å ±ã‚’ä¿å­˜ã€: é…ç½®æƒ…å ±ã‚’JSONå½¢å¼ã§ä¿å­˜ï¼ˆ`balloon_placements.json`ï¼‰
   - ã€ŒğŸ“‚ é…ç½®æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ã€: ä»¥å‰ã«ä¿å­˜ã—ãŸé…ç½®æƒ…å ±ã‚’èª­ã¿è¾¼ã¿

#### æ©Ÿèƒ½

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**: é…ç½®ã—ãŸå¹ãå‡ºã—ãŒå³åº§ã«åæ˜ 
- **ã‚ªãƒªã‚¸ãƒŠãƒ«ç”»åƒå‚ç…§**: å³å´ã«ã‚ªãƒªã‚¸ãƒŠãƒ«ç”»åƒã‚’è¡¨ç¤ºï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¿½å¾“ï¼‰
- **é…ç½®ã®ç·¨é›†**: é…ç½®æ¸ˆã¿ãƒªã‚¹ãƒˆã‹ã‚‰å€‹åˆ¥ã«å‰Šé™¤å¯èƒ½
- **é…ç½®æƒ…å ±ã®ä¿å­˜/èª­ã¿è¾¼ã¿**: ä½œæ¥­ã®ä¸­æ–­ãƒ»å†é–‹ãŒå¯èƒ½

### äºˆæ¸¬ã®ã¿ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ç”»åƒç”Ÿæˆï¼‰

```bash
# Mask R-CNN
python predict.py \
  --model maskrcnn \
  --weights ./instance_models/maskrcnn_gray_best.pt \
  --input image.jpg

# Mask2Former
python predict.py \
  --model mask2former \
  --weights ./instance_models/mask2former_gray_best.pt \
  --input image.jpg \
  --input-type gray
```

### ãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’

```bash
# Mask R-CNNã®å­¦ç¿’
python train_maskrcnn.py --config config.yaml

# ãã®ä»–ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
python test_mask2former.py
python test_order_estimator.py
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚³ãƒãŒæ­£ã—ãæ¤œå‡ºã•ã‚Œãªã„

- `--score-threshold` ã‚’ä¸‹ã’ã¦ã¿ã¦ãã ã•ã„ï¼ˆä¾‹: 0.3ï¼‰
- ç•°ãªã‚‹ãƒ¢ãƒ‡ãƒ«ï¼ˆmask2former / maskrcnnï¼‰ã‚’è©¦ã—ã¦ãã ã•ã„
- `--input-type` ã‚’å¤‰æ›´ã—ã¦ã¿ã¦ãã ã•ã„ï¼ˆgray / 3chï¼‰

### ã‚³ãƒã®é †åºãŒãŠã‹ã—ã„

- `panel_order_estimator.py` ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¢ºèªã—ã¦ãã ã•ã„
- è¦‹é–‹ããƒšãƒ¼ã‚¸ãŒæ­£ã—ãèªè­˜ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„

### å¹ãå‡ºã—ãŒåˆ‡ã‚Œã‚‹

- `--balloon-dilate` ã®å€¤ã‚’å¤§ããã—ã¦ãã ã•ã„ï¼ˆä¾‹: 5ï¼‰
- å¹ãå‡ºã—æ¤œå‡ºãƒ¢ãƒ‡ãƒ«ã‚’æ”¹å–„ã—ã¦ãã ã•ã„

### ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼

- `--img-size` ã‚’å°ã•ãã—ã¦ãã ã•ã„ï¼ˆä¾‹: 256 384ï¼‰
- ãƒãƒƒãƒå‡¦ç†ã‚’æ¸›ã‚‰ã—ã¦ãã ã•ã„

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ–

- GPUä½¿ç”¨ã‚’æ¨å¥¨ï¼ˆCUDAå¯¾å¿œã®PyTorchã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰
- å¤§é‡ã®ç”»åƒã‚’å‡¦ç†ã™ã‚‹å ´åˆã¯ã€ãƒãƒƒãƒå‡¦ç†ã‚’æ¤œè¨
- `--no-inpaint` ã§é«˜é€ŸåŒ–ï¼ˆå“è³ªã¯è‹¥å¹²ä½ä¸‹ï¼‰

## æ—¢çŸ¥ã®å•é¡Œã¨ä»Šå¾Œã®èª²é¡Œ

### balloon_editor.py ã®æ—¢çŸ¥ã®å•é¡Œ

#### å¹ãå‡ºã—ã®ã‚µã‚¤ã‚ºèª¿æ•´ã®åˆ¶é™
ç¾åœ¨ã€å¹ãå‡ºã—ã‚µã‚¤ã‚ºã¯ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§0.5ï½2.0å€ã®ç¯„å›²ã«åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚
- **ä»Šå¾Œã®æ”¹å–„**: ã‚µã‚¤ã‚ºèª¿æ•´ã®ä¸Šé™ã‚’æ’¤å»ƒã—ã€ã‚ˆã‚Šå¤§ããªå¹ãå‡ºã—ã«å¯¾å¿œã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ äºˆå®š

#### å¹ãå‡ºã—ã®æ ç·šã‚„ã‚¨ãƒƒã‚¸ã®å“è³ªå•é¡Œ
å¹ãå‡ºã—ã®ãƒã‚¹ã‚¯é ˜åŸŸã‚’æŠ½å‡ºã™ã‚‹éš›ã€ä»¥ä¸‹ã®å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ï¼š
- æ ç·šãŒæ¶ˆãˆã¦è¦‹ãˆã‚‹å ´åˆãŒã‚ã‚‹
- æŠ½å‡ºã•ã‚ŒãŸã‚¨ãƒƒã‚¸ãŒã‚¬ã‚¿ã‚¬ã‚¿ã«ãªã£ã¦ã„ã‚‹
- ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚·ãƒ³ã‚°ã«ã‚ˆã‚‹å¢ƒç•Œã®ä¸è‡ªç„¶ã•

**åŸå› **: å¹ãå‡ºã—ã®ãƒã‚¹ã‚¯é ˜åŸŸã‚’å³å¯†ã«æŠ½å‡ºã—ã¦ã„ã‚‹ãŸã‚ã€æ ç·šéƒ¨åˆ†ã®ç´°éƒ¨ãŒå¤±ã‚ã‚Œã‚„ã™ã„

**ä»Šå¾Œã®æ”¹å–„äºˆå®š**:
1. ãƒã‚¹ã‚¯é ˜åŸŸã‹ã‚‰**å°‘ã—åºƒã‚ã«æŠ½å‡º**ï¼ˆãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ï¼‰
2. **ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°å‡¦ç†**ã‚’å®Ÿè£…ï¼ˆãƒ¡ãƒ‡ã‚£ã‚¢ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ã‚„ã‚¬ã‚¦ã‚·ã‚¢ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ã®é©ç”¨ï¼‰
3. **ã‚¨ãƒƒã‚¸ã®è£œå¼·**ï¼ˆè†¨å¼µãƒ»åç¸®æ“ä½œã«ã‚ˆã‚‹æ ç·šã®å¾©å…ƒï¼‰
4. æŠ½å‡ºæ™‚ã®**å“è³ªèª¿æ•´ã‚ªãƒ—ã‚·ãƒ§ãƒ³**ã‚’è¿½åŠ 

å®Ÿè£…äºˆå®šã®ã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆå‚è€ƒï¼‰:
```python
# ãƒã‚¹ã‚¯é ˜åŸŸã‚’ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ä»˜ãã§æŠ½å‡º
def extract_balloon_with_smoothing(mask, padding=5, kernel_size=5):
    # ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ 
    y, x = np.where(mask > 0)
    y_min, y_max = max(0, y.min() - padding), min(mask.shape[0], y.max() + padding)
    x_min, x_max = max(0, x.min() - padding), min(mask.shape[1], x.max() + padding)
    
    # ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°å‡¦ç†
    smoothed = cv2.medianBlur(mask[y_min:y_max, x_min:x_max], kernel_size)
    
    return smoothed, (x_min, y_min)
```

## æŠ€è¡“è©³ç´°

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

1. **ã‚³ãƒæ¤œå‡º**: Mask R-CNN / Mask2Former ã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
2. **å¹ãå‡ºã—æ¤œå‡º**: U-Netãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
3. **é †åºæ¨å®š**: ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
4. **èƒŒæ™¯è£œå®Œ**: LAMAï¼ˆLarge Mask Inpaintingï¼‰
5. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”Ÿæˆ**: å¹…ã¨é«˜ã•ã‚’è€ƒæ…®ã—ãŸæœ€é©é…ç½®

### ãƒ¢ãƒ‡ãƒ«å…¥åŠ›å½¢å¼

- **3ch**: RGB 3ãƒãƒ£ãƒ³ãƒãƒ«ç”»åƒ
- **gray**: ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ç”»åƒï¼ˆ3ãƒãƒ£ãƒ³ãƒãƒ«ã«è¤‡è£½ï¼‰